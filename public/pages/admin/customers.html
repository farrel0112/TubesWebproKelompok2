<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Manajemen Pelanggan | PDAM</title>

  <link rel="stylesheet" href="/css/admin.css" />
</head>
<body>
<div class="layout">

  <!-- Sidebar (sama seperti dashboard) -->
  <aside class="sidebar">
    <div class="brand">
      <div class="brand-mark">
        <span class="drop"></span>
        <div>
          <div class="brand-title">PDAM</div>
          <div class="brand-sub">Admin Panel</div>
        </div>
      </div>
    </div>

    <nav class="nav">
      <a class="nav-item" href="/pages/admin/dashboard.html">ğŸ“Š Dashboard</a>
      <a class="nav-item active" href="/pages/admin/customers.html">ğŸ‘¥ Pelanggan</a>
      <a class="nav-item" href="/pages/admin/meter-readings.html">ğŸ“Ÿ Input Meter</a>
      <a class="nav-item" href="/pages/admin/bills.html">ğŸ§¾ Tagihan</a>
      <a class="nav-item" href="/pages/admin/complaints.html">ğŸ› ï¸ Pengaduan</a>
      <div class="nav-divider"></div>
      <button id="btnLogout" class="nav-item nav-btn">ğŸšª Logout</button>
    </nav>
  </aside>

  <!-- Main -->
  <main class="main">
    <header class="hero">
      <div class="hero-bg"></div>
      <div class="hero-content">
        <div>
          <div class="hero-kicker">
            <span class="kicker-dot"></span> Data Master
          </div>
          <h1 class="hero-title">Manajemen Pelanggan</h1>
          <div class="hero-subtitle">
            Kelola data pelanggan PDAM (tambah, edit, hapus)
          </div>
        </div>
      </div>
      <div class="hero-wave"></div>
    </header>

    <!-- Actions -->
    <section class="panel">
      <div class="panel-head">
        <h2 class="panel-title">Daftar Pelanggan</h2>
        <button class="btn-primary" id="btnAdd">+ Tambah Pelanggan</button>
      </div>

      <!-- Table -->
      <div class="table-wrap">
        <table class="table">
          <thead>
          <tr>
            <th>ID</th>
            <th>Nama</th>
            <th>Alamat</th>
            <th>Status</th>
            <th>Aksi</th>
          </tr>
          </thead>
          <tbody id="customerTable">
          <tr><td colspan="5" class="muted">Memuat data...</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Modal -->
    <div class="modal hidden" id="modal">
      <div class="modal-card">
        <h3 id="modalTitle">Tambah Pelanggan</h3>

        <form id="customerForm">
          <input type="hidden" id="customerId" />

          <label>Nama Pelanggan</label>
          <input type="text" id="name" required />

          <label>Alamat</label>
          <textarea id="address" required></textarea>

          <label>Status</label>
          <select id="status">
            <option value="active">Aktif</option>
            <option value="inactive">Nonaktif</option>
          </select>

          <div class="modal-actions">
            <button type="button" class="btn-secondary" id="btnCancel">Batal</button>
            <button type="submit" class="btn-primary">Simpan</button>
          </div>
        </form>
      </div>
    </div>

    <footer class="footer">
      <div class="muted">Manajemen Pelanggan â€¢ PDAM Kabupaten Muna</div>
    </footer>
  </main>
</div>

<script src="/js/api.js"></script>
<script src="/js/admin-guard.js"></script>
<script src="/js/admin-customers.js"></script>
</body>
</html>
